<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module">
        import * as H from '../build/esm/index.js';

        function span(x, i) {
            // return html`<span class="a">${x}</span>`;
            return H.html.for(this, x)`<span class="a">${x}</span>`;
        }

        const div1 = {};
        const div2 = {};

        let first = 0;
        const renderDivs = (firstRow, secondRow) => H.html`
  <div>
    ${H.collection(firstRow.map(span, div1))}
  </div>
  <hr>
  <div>
    ${H.collection(secondRow.map(span, div2))}
  </div>
`;

        await H.bootstrap(H.render(document.body, renderDivs([], ['a'])));
        setTimeout(
            async () => {
                await H.bootstrap(H.render(document.body, renderDivs(['a'], [])));
                setTimeout(
                    async () => {
                        await H.bootstrap(H.render(document.body, renderDivs([1, 2, 3], ['a', 'b'])));
                        setTimeout(
                            async () => {
                                await H.bootstrap(H.render(document.body, renderDivs([1, 2], ['a', 'b', 'c'])));
                                setTimeout(
                                    async () => {
                                        await H.bootstrap(H.render(document.body, renderDivs([1], ['b'])));
                                        setTimeout(
                                            async () => {
                                                await H.bootstrap(H.render(document.body, renderDivs([1, 2], ['a', 'b', 'c'])));
                                            },
                                            1000
                                        );
                                    },
                                    1000
                                );
                            },
                            1000
                        );
                    },
                    1000
                );
            },
            1000
        );
    </script>
</head>

<body>

</body>

</html>
